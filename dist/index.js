var f=Object.defineProperty;var p=(a,o,e)=>o in a?f(a,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[o]=e;var m=(a,o,e)=>(p(a,typeof o!="symbol"?o+"":o,e),e);(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function e(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerpolicy&&(i.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?i.credentials="include":t.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(t){if(t.ep)return;t.ep=!0;const i=e(t);fetch(t.href,i)}})();class g{constructor(){m(this,"userData");m(this,"moreButton")}scrape(o){this.userData={},this.moreButton=o,this.addScrapeButton()}addScrapeButton(){const o=document.createElement("button");o.innerText="Profilinformationen kopieren",o.onclick=this.scrapeInformation.bind(this),this.insertAfter(o,this.moreButton)}scrapeInformation(){this.getName(),this.getSalaryWish(),this.getJobTitle(),this.getJobExperience(),this.getEducation(),this.getLocation(),this.copyTextToClipboard(JSON.stringify(this.userData))}addInformationToResult(o,e){this.userData[o]=e}fallbackCopyTextToClipboard(o){const e=document.createElement("textarea");e.value=o,document.body.appendChild(e),e.focus(),e.select();try{const t=document.execCommand("copy")?"successful":"unsuccessful";console.log("Fallback: Copying command was "+t)}catch(n){console.error("Fallback: Oops, unable to copy",n)}document.body.removeChild(e)}copyTextToClipboard(o){if(!navigator.clipboard){this.fallbackCopyTextToClipboard(o);return}navigator.clipboard.writeText(o).then(function(){console.log("Async: Copying to clipboard was successful!")},function(e){console.error("Async: Could not copy text: ",e)})}insertAfter(o,e){e&&e.parentNode&&e.parentNode.insertBefore(o,e.nextSibling)}}class y extends g{constructor(){super(...arguments);m(this,"userData",{})}getName(){console.log("getName")}getSalaryWish(){console.log("getSalaryWish")}getJobTitle(){console.log("getJobTitle")}getJobExperience(){console.log("getJobExperience")}getEducation(){console.log("getEducation")}getLocation(){console.log("getLocation")}}class x extends g{constructor(){super(...arguments);m(this,"userData",{})}getName(){const e=document.querySelector('#XingIdModule *[data-xds="Hero"]');if(e!==null){const t=e.innerText.replace(/<(.|\n)*?>/g,"").split(`
`)[0].trim().split(" "),i=t.pop(),r=typeof t=="string"?t:t.join(" ");this.addInformationToResult("firstname",r),this.addInformationToResult("lastname",i)}else this.addInformationToResult("firstname","Nicht gefunden"),this.addInformationToResult("lastname","Nicht gefunden")}getSalaryWish(){const n=[...document.querySelectorAll("h2")].filter(t=>t.textContent.includes("Gehaltsvorstellung"));if(n.length>0){const i=n[0].nextElementSibling.textContent;this.addInformationToResult("salary",i)}else this.addInformationToResult("salary","Nicht angegeben")}getJobTitle(){const e=document.querySelector('#XingIdModule *[data-xds="Hero"]').parentElement.nextElementSibling.querySelector("section p").textContent.split(",");let n=e[1];e.includes("Student")&&(n=e[0]+" "+e[1]),this.addInformationToResult("currentJob",n.trim())}getJobExperience(){const n=[...document.getElementById("ProfileTimelineModule").querySelectorAll('*[data-xds="Headline"]')].filter(s=>s.innerText.includes("Berufliche Stationen")).at(0),t=[...n.parentNode.querySelectorAll(":scope > div")],i=[...n.parentNode.nextSibling.querySelectorAll('*[data-qa="bucket"]:first-child > div')];let r=[];t.forEach(s=>{const l=s.querySelector('p[data-xds="BodyCopy"]');if(l){const u=l.nextElementSibling;u&&r.push(u.innerText)}}),i.at(0).parentElement.querySelector("h2").textContent.includes("Studium")||i.forEach(s=>{const l=s.querySelector('p[data-xds="BodyCopy"]');if(l){const u=l.nextElementSibling;u&&r.push(u.innerText)}});const c=this.extractYearsAsMonths(r.join(" ")),d=this.extractMonths(r.join(" ")),h=c.concat(d).reduce((s,l)=>s+l,0);this.addInformationToResult("experience",this.getYearsString(h))}getEducation(){const t=[...document.getElementById("ProfileTimelineModule").querySelectorAll('*[data-xds="Headline"]')].filter(i=>i.innerText.includes("Studium")).at(0).nextElementSibling.querySelector("h2").innerText;this.addInformationToResult("education",t)}getLocation(){const n=document.querySelector('*[data-xds="IconLocationPin"]').parentNode.lastElementChild.textContent;this.addInformationToResult("city",n)}addInformationToResult(e,n){this.userData[e]=n}insertAfter(e,n){n&&n.parentNode&&n.parentNode.insertBefore(e,n.nextSibling)}extractYearsAsMonths(e){const n=/(\d{0,2}) Jahr/g,t=e.matchAll(n);let i=[];for(const r of t)i.push(Number(r[1])*12);return i}extractMonths(e){const n=/(\d{0,2}) Monat/g,t=e.matchAll(n);let i=[];for(const r of t)i.push(Number(r[1]));return i}getYearsString(e){function n(h,s){return h===1&&s.one||s.other}let t={one:"Monat",other:"Monate"},i={one:"Jahr",other:"Jahre"},r=e%12,c=Math.floor(e/12),d=[];return c&&d.push(c+" "+n(c,i)),r&&d.push(r+" "+n(r,t)),d.join(" und ")}}class S{constructor(){this.xing&&new x().scrape(document.querySelector('*[data-qa="more-button"]')),this.linkedIn&&new y().scrape(document.querySelector('li-icon[type="bell-outline"]').parentElement.parentElement)}get xing(){return this.detectWebsite.includes("xing")}get linkedIn(){return this.detectWebsite.includes("linkedin")}get detectWebsite(){return window.location.href}}b(()=>{new S});function b(a){document.readyState==="complete"||document.readyState==="interactive"?setTimeout(a,1500):document.addEventListener("DOMContentLoaded",a)}
